{
  "version": 3,
  "file": "main.css",
  "sources": [
    "../../Add-Edit-User.svelte",
    "../../Footer.svelte",
    "../../Header.svelte",
    "../../Home.svelte",
    "../../Lista.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { loginUser } from \"../store\";\n\n  let User = {};\n  let Municipios;\n\n  if (localStorage && localStorage.Email) User.Email = localStorage.Email;\n  if ($loginUser) User.Email = $loginUser.email;\n\n  function actualizaDatos(id) {\n    dbUsers\n      .doc(id)\n      .get()\n      .then((doc) => {\n        if (doc.exists) {\n          User = doc.data();\n          User.Actualización = new Date();\n        }\n      });\n  }\n\n  if (User.Email) {\n    // const email = auth.currentUser.email;\n    const email = User.Email;\n    dbUsers\n      .doc(email)\n      .get()\n      .then((doc) => {\n        if (doc.exists) {\n          User = doc.data();\n          User.Actualización = new Date();\n        } else {\n          console.log(`El ususario no existe en la base de datos y se creará`);\n          const newUser = {\n            id: LoginUser.uid,\n            Email: LoginUser.email,\n            Actualización: new Date(),\n            Nombre: LoginUser.displayName.split(\" \").slice(0, -1).join(\" \"),\n            Apellido: LoginUser.displayName.split(\" \").slice(-1).join(\" \"),\n            Avatar: LoginUser.providerData[0].photoURL,\n            \"Nombre Completo\": LoginUser.displayName,\n          };\n          if (LoginUser.phoneNumber) newUser.Teléfono = LoginUser.phoneNumber;\n          dbUsers.doc(email).set(newUser);\n          User = newUser;\n        }\n        // document.forms[0][\"Email\"].disabled = true;\n      });\n  }\n\n  /* Auto Guardado de Datos en Firestore */\n  function guardarDatos() {\n    const form = document.forms[0];\n    if (!form.checkValidity()) return false;\n    const email = form[\"Email\"].value;\n    console.info(\"Guadando datos...\");\n    User[\"Actualización\"] = new Date();\n    dbUsers.doc(email).set(User);\n  }\n\n  async function chequearEmailValido() {\n    const input = document.forms[0][\"Email\"];\n    input.setCustomValidity(\"\");\n    const valido = input.validity.valid;\n\n    if (!valido) return false;\n    const email = input.value;\n\n    // Guardo en Local\n    if (localStorage) localStorage.Email = email;\n\n    /* Chequea si existe el email */\n    const esValido = await dbUsers\n      .where(\"Email\", \"==\", email)\n      .get()\n      .then((doc) => {\n        if (!doc.empty) {\n          // el email ya existe\n          actualizaDatos(email);\n          input.disabled = true;\n\n          // const error = `${email} ya se existe !`;\n          // console.error(error);\n          // input.setCustomValidity(error);\n          // input.placeholder = error;\n          // input.value = \"\";\n          // input.focus();\n        }\n      });\n    return esValido;\n  }\n\n  async function cargaMunicipios(provincia) {\n    Municipios = await obtenerMunicipios(provincia);\n  }\n\n  async function obtenerMunicipios(provincia = \"\") {\n    if (provincia) provincia = `&provincia=${provincia}`;\n    const url = `https://apis.datos.gob.ar/georef/api/municipios?max=5000${provincia}`;\n    const fetchData = await fetch(url);\n    const data = await fetchData.json();\n    const reduce = data.municipios.reduce((accu, item) => {\n      const municipio = item.nombre;\n      const provincia = item.provincia.nombre;\n      const geoloc = item.centroide;\n      return [...accu, municipio];\n    }, \"\");\n    const results = [...new Set(reduce)];\n    return results;\n  }\n\n  /*\n  function uploadImagen() {\n    const file = document.getElementById(\"imageFile\").files[0];\n\n    if (file) {\n      const imagen = document.getElementById(\"avatar\");\n      imagen.src = URL.createObjectURL(file);\n    }\n  }\n  */\n</script>\n\n<style>\n  button {\n    text-align: center;\n  }\n</style>\n\n<section>\n  <h1 class=\"title\">Mis Datos</h1>\n\n  <form on:change={guardarDatos} action=\"javascript:void(0);\">\n    <fieldset>\n      <caption>Datos Personales</caption>\n\n      <label for=\"Email\">Email</label>\n      <input\n        on:change={chequearEmailValido}\n        bind:value={User.Email}\n        name=\"Email\"\n        type=\"email\"\n        required />\n\n      <label for=\"Nombre\">Nombre</label>\n      <input bind:value={User.Nombre} name=\"Nombre\" type=\"text\" required />\n\n      <label for=\"Apellido\">Apeliido</label>\n      <input bind:value={User.Apellido} name=\"Apellido\" type=\"text\" required />\n\n      <label for=\"Teléfono\">Teléfono</label>\n      <input bind:value={User.Teléfono} name=\"Teléfono\" type=\"tel\" />\n\n      <label for=\"Comercial Comercial\">Nombre comercial</label>\n      <input\n        bind:value={User['Nombre Comercial']}\n        name=\"Comercial Comercial\"\n        type=\"text\"\n        placeholder=\"Opcional\" />\n\n      <label for=\"Estudio\">Nombre de su estudio:</label>\n      <input\n        bind:value={User.Estudio}\n        name=\"Estudio\"\n        type=\"text\"\n        placeholder=\"Opcional\" />\n\n      <label for=\"País\">País</label>\n      <select bind:value={User['País']} name=\"País\" required>\n        <option value=\"Argentina\">Argentina</option>\n      </select>\n      <label for=\"Provincia\">Provincia</label>\n      <select\n        on:focus={(e) => cargaMunicipios(e.target.value)}\n        on:input={(e) => cargaMunicipios(e.target.value)}\n        bind:value={User.Provincia}\n        name=\"Provincia\"\n        required>\n        <option value=\"Buenos Aires\">Bs. As.</option>\n        <option value=\"Catamarca\">Catamarca</option>\n        <option value=\"Chaco\">Chaco</option>\n        <option value=\"Chubut\">Chubut</option>\n        <option value=\"Córdoba\">Córdoba</option>\n        <option value=\"Corrientes\">Corrientes</option>\n        <option value=\"Entre Ríos\">Entre Ríos</option>\n        <option value=\"Formosa\">Formosa</option>\n        <option value=\"Jujuy\">Jujuy</option>\n        <option value=\"La Pampa\">La Pampa</option>\n        <option value=\"La Rioja\">La Rioja</option>\n        <option value=\"Mendoza\">Mendoza</option>\n        <option value=\"Misiones\">Misiones</option>\n        <option value=\"Neuquen\">Neuquen</option>\n        <option value=\"Río Negro\">Río Negro</option>\n        <option value=\"Salta\">Salta</option>\n        <option value=\"San Juan\">San Juan</option>\n        <option value=\"San Luis\">San Luis</option>\n        <option value=\"Santa Cruz\">Santa Cruz</option>\n        <option value=\"Santa Fe\">Santa Fe</option>\n        <option value=\"Sgo. del Estero\">Sgo. del Estero</option>\n        <option value=\"Tierra del Fuego\">Tierra del Fuego</option>\n        <option value=\"Tucumán\">Tucumán</option>\n      </select>\n\n      <label for=\"Ciudad\">Ciudad</label>\n      <input\n        bind:value={User.Ciudad}\n        name=\"Ciudad\"\n        type=\"text\"\n        list=\"Municipios\" />\n      {#if Municipios}\n        <datalist id=\"Municipios\" style=\"display: none\">\n          {#each Municipios as item}\n            <option value={item} />\n          {/each}\n        </datalist>\n      {/if}\n    </fieldset>\n    <hr class=\"Sep\" />\n    <hr class=\"Sep\" />\n    <fieldset>\n\n      <caption>Redes sociales</caption>\n      <label for=\"Website\">Sitio Web</label>\n      <input\n        bind:value={User.Website}\n        name=\"Website\"\n        type=\"text\"\n        placeholder=\"Opcional\" />\n\n      <label for=\"Facebook\">Facebook</label>\n      <input\n        bind:value={User.Facebook}\n        name=\"Facebook\"\n        type=\"text\"\n        placeholder=\"Opcional\" />\n\n      <label for=\"Instagram\">Instagram</label>\n      <input\n        bind:value={User.Instagram}\n        name=\"Instagram\"\n        type=\"text\"\n        placeholder=\"Opcional\" />\n\n      <label for=\"Twitter\">Twitter</label>\n      <input\n        bind:value={User.Twitter}\n        name=\"Twitter\"\n        type=\"text\"\n        placeholder=\"Opcional\" />\n\n      <label for=\"Información Adicional\">Información Adicional</label>\n      <textarea\n        bind:value={User['Información Adicional']}\n        name=\"Información Adicional\"\n        cols=\"30\"\n        rows=\"10\"\n        placeholder=\"Opcional\" />\n    </fieldset>\n    <button on:click={guardarDatos} class=\"Inv\" id=\"Guardar\">\n      Guardar Datos\n    </button>\n    <!-- svelte-ignore missing-declaration -->\n    <button on:click={() => deleteUserById(User.Email)} class=\"Out\">\n      BORRAR MIS DATOS\n    </button>\n\n  </form>\n\n</section>\n",
    "<script>\n  import { loginUser } from \"../store.js\";\n</script>\n\n<style>\n  section {\n    text-align: center;\n    font-size: 14px;\n  }\n</style>\n\n<section>\n  <!-- svelte-ignore missing-declaration -->\n  {#if $loginUser}\n    <button on:click={cerrarSesion} class=\"Out\">\n      {$loginUser.displayName} - Cerrar Sesión\n    </button>\n  {:else}\n    <button on:click={iniciarSesion} class=\"Out\">Iniciar Sesión</button>\n  {/if}\n</section>\n",
    "<script>\n  import { loginUser, displayPage } from \"../store.js\";\n</script>\n\n<style>\n  header {\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    padding-bottom: 0.5em;\n    border-bottom: 1px solid var(--hover);\n  }\n\n  header * {\n    margin: 0;\n  }\n\n  .titulo {\n    font-family: \"Gilda Display\", serif;\n    color: var(--hover);\n    font-size: 20px;\n  }\n\n  .subtitulo {\n    font-weight: 100;\n  }\n\n  .logo {\n    height: 35px;\n  }\n</style>\n\n<header>\n  <a href on:click={() => ($displayPage = 'Home')}>\n    <img\n      class=\"logo\"\n      src=\"/site/imagenes/isotipo.svg\"\n      alt=\"Fotógrafos Argentinos\" />\n  </a>\n  <div class=\"left\">\n    <h1 class=\"titulo\">Fotógrafos Argentinos</h1>\n    <h6 class=\"subtitulo\">Comunidad Argentina de Fotógrafos</h6>\n  </div>\n</header>\n",
    "<script>\n  import { loginUser, displayPage } from \"../store.js\";\n  import Lista from \"./Lista.svelte\";\n</script>\n\n<style>\n  button.Hover {\n    color: var(--hover);\n    border-color: var(--hover);\n    line-height: 2;\n    display: block;\n    margin: 1.5em auto;\n    padding: 5px 20px;\n    text-transform: uppercase;\n    font-size: 14px;\n  }\n\n  button.Hover:hover {\n    background-color: var(--hover);\n    color: white;\n  }\n</style>\n\n<section>\n\n  {#if !$loginUser}\n    <button class=\"Hover flat\" on:click={() => ($displayPage = 'Mis Datos')}>\n      Ingresá tus Datos\n    </button>\n  {/if}\n\n  <Lista />\n</section>\n",
    "<script>\n  import { each } from \"svelte/internal\";\n\n  let Fotografos = [];\n  let Contador = \"\";\n  let Dataset = [];\n\n  /* Actualización automática de la lista */\n  dbUsers.onSnapshot((docs) => {\n    Fotografos = [];\n    docs.forEach((doc) => {\n      if (doc.data().Ciudad) Dataset.push(doc.data().Ciudad.capitalize());\n      if (doc.data().Provincia) Dataset.push(doc.data().Provincia.capitalize());\n      Fotografos = [...Fotografos, doc.data()];\n    });\n    Contador = Fotografos.length;\n    Fotografos = [...Fotografos].sort(() => 0.5 - Math.random());\n    Dataset = [...new Set(Dataset)];\n  });\n\n  // Filtrar la tabla\n  function filtrarTabla() {\n    const tableBody = document.querySelector(\"#tbody\");\n    if (!tableBody) return;\n\n    const input = document.getElementById(\"buscar\");\n    const filas = document.getElementById(\"tbody\").childNodes;\n\n    function filtrar() {\n      const query = new RegExp(input.value, \"ig\");\n\n      Contador = 0;\n      [...filas].map((fila) => {\n        // texto a buscar\n        const str = `${fila.dataset.nombre} ${fila.dataset.ciudad} ${fila.dataset.provincia} ${fila.dataset.pais} ${fila.dataset.email} ${fila.dataset.tel}`;\n        Contador++;\n        if (query.test(str)) {\n          fila.style.display = \"table-row\";\n        } else {\n          fila.style.display = \"none\";\n          Contador--;\n        }\n      });\n    }\n\n    if (input) {\n      input.addEventListener(\"input\", filtrar);\n      input.focus();\n    }\n  }\n\n  function mostrarInfo(fila) {\n    const el = fila.target.parentElement;\n    const data = el.dataset;\n    const modal = document.querySelector(\".modal\");\n\n    modal.style.display = \"block\";\n\n    // Nombre\n    modal.childNodes[0].textContent = data.nombre || \"\";\n\n    // Website\n    modal.childNodes[2].textContent = data.website;\n    modal.childNodes[2].href = `//${data.website}`;\n\n    // Email\n    modal.childNodes[4].textContent = data.email;\n    modal.childNodes[4].href = `mailto:${data.email}`;\n\n    // Teléfono\n    modal.childNodes[6].textContent = data.tel ? `Tel: ${data.tel}` : \"\";\n    modal.childNodes[6].href = `tel:${data.tel}`;\n\n    // Ciudad y Provincia\n    modal.childNodes[8].textContent = `${data.ciudad}, ${data.provincia}`;\n  }\n  function cerrarModal() {\n    const modal = document.querySelector(\".modal\");\n    modal.style.display = \"none\";\n  }\n\n  // Capitalize the first letter of each word of a given string\n  // Usage: 'capItalezE aLl fIrSt leTTers'.capitalize()\n  String.prototype.capitalize = function () {\n    if (!this || !typeof this === \"string\") return this;\n    return this.trim()\n      .split(\" \")\n      .reduce(\n        (text, word) => text + \" \" + word[0].toUpperCase() + word.substr(1),\n        \"\"\n      );\n  };\n\n  /* Actualización por única vez \n  dbUsers.get().then((docs) => {\n    docs.forEach((doc) => {\n      Fotografos = [\n        ...Fotografos,\n        {\n          Nombre:\n            doc.data()[\"Nombre Comercial\"] ||\n            `${doc.data().Nombre} ${doc.data().Apellido}`,\n          Email: doc.id,\n          Tel: doc.data()[\"Teléfono\"] || \"\",\n          Ciudad: doc.data().Ciudad || doc.data().Provincia || \"\",\n          Provincia: doc.data().Provincia || doc.data().Provincia || \"\",\n          País: doc.data().País,\n        },\n      ];\n    });\n  });\n*/\n</script>\n\n<style>\n  input {\n    width: 100%;\n  }\n\n  label {\n    margin: 0;\n    display: block;\n    text-align: center;\n  }\n\n  table th {\n    font-size: 14px;\n    font-weight: 400;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    text-align: left;\n    padding: 0.5em 0;\n  }\n\n  table th:nth-child(1) {\n    width: 60%;\n  }\n\n  table th:nth-child(2) {\n    width: 40%;\n  }\n\n  .modal {\n    display: none;\n    text-align: center;\n    position: fixed;\n    min-width: 300px;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    padding: 1rem;\n    border-radius: 5px;\n    box-shadow: 0 0 3px 0 grey;\n  }\n  .modal > * {\n    display: block;\n  }\n  .modal > a:hover {\n    color: var(--text);\n  }\n  .modal h1 {\n    font-size: 1.2rem;\n  }\n  .modal button {\n    margin: auto;\n    line-height: inherit;\n    border-color: white;\n  }\n</style>\n\n<section>\n  {#if Fotografos.length}\n    <label for=\"buscar\">{`${Contador} fotógrafos`}</label>\n    <input\n      on:input={filtrarTabla}\n      id=\"buscar\"\n      type=\"search\"\n      list=\"datalist\"\n      class=\"flat\"\n      placeholder=\"Buscá fotógrafos de tu ciudad\" />\n\n    <datalist id=\"datalist\">\n      {#each Dataset as item}\n        <option value={item} />\n      {/each}\n    </datalist>\n\n    <table id=\"fotografos\">\n      <thead>\n        <tr>\n          <th>Nombre</th>\n          <th>Ciudad</th>\n        </tr>\n      </thead>\n\n      <tbody id=\"tbody\">\n        {#each Fotografos as item}\n          <tr\n            data-nombre={item['Nombre Comercial'] || `${item.Nombre} ${item.Apellido}`}\n            data-email={item.Email}\n            data-website={item.Website}\n            data-tel={item.Teléfono || ''}\n            data-ciudad={item.Ciudad || ''}\n            data-provincia={item.Provincia}\n            on:click={mostrarInfo}>\n            <th>\n              {item['Nombre Comercial'] || `${item.Nombre} ${item.Apellido}`}\n            </th>\n            <th>{item.Ciudad || item.Provincia}</th>\n\n          </tr>\n        {/each}\n      </tbody>\n    </table>\n  {/if}\n  <div class=\"modal Inv \">\n    <h1>Nombre</h1>\n    <a href target=\"_blank\">Website</a>\n    <a href>Email</a>\n    <a href>Tel</a>\n    <span>Ciudad y Provincia</span>\n    <hr class=\"Sep\" />\n    <button class=\"Sol Inv\" on:click={cerrarModal}>CERRAR</button>\n  </div>\n</section>\n"
  ],
  "names": [],
  "mappings": "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"
}